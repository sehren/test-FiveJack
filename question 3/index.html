<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>question 3</title>
</head>
<body>
  <input type="number" placeholder="Number" id="n" value="5">
  <input type="text" placeholder="Input record" id="relation" value='[["100","ryan","music","2"],["200","apeach","math","2"],["300","tube","computer","3"],["400","con","computer","4"],["500","muzi","music","3"],["600","apeach","music","2"]]'>
  <button onclick="submit()">Submit</button>
  <p id="answer"></p>
  <script>
    function submit(){
        var relation = document.getElementById("relation").value
        var answer = solution(JSON.parse(relation))
        document.getElementById("answer").innerHTML = JSON.stringify(answer)
    }
    function solution(relation) {
        // check each column is there any unique key
        var total = []
        length = relation[0].length;
        for(var k=0;k<relation.length;k++){
            for(var i=k+1;i<relation.length;i++){
                for(var j=0;j<relation[i].length;j++){
                    if(relation[i][j]==relation[k][j]){
                        total.push(j)
                    }
                }
            }
        }
        total.sort()
        var ans = []
        for(var i=0;i<length;i++){
            temp = false;
            for(var j=0;j<total.length;j++){
                if(i==total[j]){
                    temp = true
                }
            }
            if(!temp){
                ans.push(i)
            }
        }
        ans.forEach(i=>{
            for(var j = 0;j<relation.length;j++){
                var temp = relation[j]
                temp.splice(i,1)
            }
        })
        console.log("after seperate from unique key ")
        console.log(relation)
        // i only can define with single unique key, not with combine
        var answer = ans.length;
        return answer;
    }
  </script>
</body>
</html>