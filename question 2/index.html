<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>question 2</title>
</head>
<body>
  <input type="number" placeholder="Number" id="n" value="5">
  <input type="text" placeholder="Input record" id="users" value="[2,1,2,6,2,4,3,3]">
  <button onclick="submit()">Submit</button>
  <p id="answer"></p>
  <script>
    function submit(){
        var users = document.getElementById("users").value
        var N = document.getElementById("n").value
        var answer = solution(N,JSON.parse(users))
        document.getElementById("answer").innerHTML = JSON.stringify(answer)
    }
    function solution(N, users) {
        var stage = []
        var lengthRate = users.length;
        for(var i=1;i<=N;i++){
            var total = 0;
            for(var j=0;j<users.length;j++){
                if(users[j]==i){
                    total++;
                }
            }
            stage.push({rate : total/lengthRate, stage : i})
            lengthRate-=total;
        }
        stage.sort(function (a, b) {
            return b.rate - a.rate;
        });
        var answer = [];
        stage.forEach(i=>{
            answer.push(i.stage)
        })
        return answer;
    }
  </script>
</body>
</html>